var L=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var A=(e,c)=>{var t={};for(var s in e)$.call(e,s)&&c.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&L)for(var s of L(e))c.indexOf(s)<0&&B.call(e,s)&&(t[s]=e[s]);return t};import{u as R,n as j,c as N,p as D,a as d,b as S,i as M,d as T,r as m,o as f,e as y,F as U,f as J,g as r,w as u,h as l,j as k,t as F,k as V,l as q,m as H,E as z,q as O,D as G,U as K,s as W,v as Q,A as X}from"./vendor.3348101a.js";const Y=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};Y();const P=Symbol();function Z(){const e=R("todos",[{id:j(),value:"your first todo",checked:!1}]),c=N(()=>d(e).filter(o=>!o.checked).length),t=N(()=>{const h=S().path.split("/")[1];return new Map([["all",d(e)],["active",e.value.filter(p=>!p.checked)],["completed",e.value.filter(p=>p.checked)]]).get(h)});D(P,{todos:e,total:c,autoTodos:t,updateTodos:o=>{e.value=o},addTodoItem:o=>{e.value.unshift({id:j(),value:o,checked:!1})},deleteTodoItem:o=>{e.value.splice(o,1)},clearCompletedTodoItem:()=>{e.value=e.value.filter(o=>!o.checked)}})}function x(){const e=M(P);if(!e)throw new Error("useTodoInject must be used after useTodoProvide");return e}const ee={class:"todos"},te=["onClick"],w=T({setup(e){const{autoTodos:c,deleteTodoItem:t}=x();return(s,n)=>{const a=m("a-typography-text"),i=m("a-checkbox");return f(),y("div",ee,[(f(!0),y(U,null,J(d(c),(o,h)=>(f(),y("div",{class:"todo-item",key:o.id},[r(i,{checked:o.checked,"onUpdate:checked":_=>o.checked=_},{default:u(()=>[r(a,{delete:o.checked},{default:u(()=>[k(F(o.value),1)]),_:2},1032,["delete"])]),_:2},1032,["checked","onUpdate:checked"]),l("button",{class:"delete is-small",onClick:_=>d(t)(h)},null,8,te)]))),128))])}}}),oe=V({history:q(),routes:[{path:"/all",component:w},{path:"/active",component:w},{path:"/completed",component:w},{path:"/",redirect:"/all"}],strict:!0,scrollBehavior:()=>({left:0,top:0})});const se={class:"todo-control"},ne=T({setup(e){S();const{addTodoItem:c}=x(),t=H(""),s=n=>{!d(t)||(c(d(t)),t.value="")};return(n,a)=>{const i=m("a-input");return f(),y("div",se,[r(i,{value:t.value,"onUpdate:value":a[0]||(a[0]=o=>t.value=o),valueModifiers:{trim:!0},placeholder:"your new todo",size:"large","allow-clear":"",onPressEnter:s},null,8,["value"])])}}});function ae(e,c){const t=document.createElement("a");t.download=c,t.style.display="none";const s=new Blob([e]);t.href=URL.createObjectURL(s),document.body.appendChild(t),t.click(),document.body.removeChild(t)}const ce=l("div",{style:{"padding-bottom":"100px"}},null,-1),re={class:"todo"},le={class:"todo-toolbar"},de=l("span",null,"export list",-1),ie=l("span",null,"import list",-1),ue={class:"todo-card"},_e={class:"todo-card__header"},pe={class:"todo-card__body"},me={key:0,class:"empty"},fe={key:1,class:"router-view-container"},he={class:"todo-card__footer"},ve={class:"footer-control"},ye={class:"total"},ke=k(" items left "),ge={class:"router-link"},be=k("All"),Te=k("Active"),Ce=k("Completed"),we={class:"clear-btn"},xe=k("Clear completed"),Ee=T({setup(e){const i=x(),{todos:c,total:t}=i,s=A(i,["todos","total"]),n=z.PRESENTED_IMAGE_SIMPLE,a=o=>{var g,b;if(console.log(o),!((b=(g=o.name.split(".").pop())==null?void 0:g.toLocaleLowerCase())!=null?b:"").includes("json"))return O.error("\u53EA\u652F\u6301\u5BFC\u5165json\u6587\u4EF6"),!1;const p=new FileReader;return p.readAsText(o),p.onload=v=>{var C;if(((C=v.target)==null?void 0:C.result)&&typeof v.target.result=="string"){const I=JSON.parse(v.target.result);if(!Array.isArray(I))return;s.updateTodos(I)}else O.error("json\u6587\u4EF6\u89E3\u6790\u5931\u8D25")},!1};return(o,h)=>{const _=m("a-button"),p=m("a-upload"),g=m("a-empty"),b=m("router-view"),v=m("router-link");return f(),y(U,null,[ce,l("div",re,[l("div",le,[r(_,{style:{"margin-right":"15px"},onClick:h[0]||(h[0]=C=>d(ae)(JSON.stringify(d(c)),"todos.json"))},{default:u(()=>[r(d(G)),de]),_:1}),r(p,{showUploadList:!1,beforeUpload:a},{default:u(()=>[r(_,null,{default:u(()=>[r(d(K)),ie]),_:1})]),_:1})]),l("div",ue,[l("div",_e,[r(ne)]),l("div",pe,[d(c).length===0?(f(),y("div",me,[r(g,{image:d(n)},null,8,["image"])])):(f(),y("div",fe,[r(b)]))]),l("div",he,[l("div",ve,[l("div",ye,[l("strong",null,F(d(t)),1),ke]),l("div",ge,[r(v,{class:"router-link-item",to:"/all"},{default:u(()=>[be]),_:1}),r(v,{class:"router-link-item",to:"/active"},{default:u(()=>[Te]),_:1}),r(v,{class:"router-link-item",to:"/completed"},{default:u(()=>[Ce]),_:1})]),l("div",we,[r(_,{type:"link",style:{padding:"0"},onClick:s.clearCompletedTodoItem},{default:u(()=>[xe]),_:1},8,["onClick"])])])])])])],64)}}}),Ie=T({setup(e){return Z(),(c,t)=>(f(),W(Ee))}});const E=Q(Ie);E.use(oe);E.use(X);E.mount("#app");
